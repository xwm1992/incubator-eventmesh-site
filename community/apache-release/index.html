<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache EventMesh Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache EventMesh Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"><title data-react-helmet="true">Apache 发布指南 | Apache EventMesh</title><meta data-react-helmet="true" property="og:url" content="https://eventmesh.apache.org/community/apache-release"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-community-current"><meta data-react-helmet="true" property="og:title" content="Apache 发布指南 | Apache EventMesh"><meta data-react-helmet="true" name="description" content="理解 Apache 发布的内容和流程"><meta data-react-helmet="true" property="og:description" content="理解 Apache 发布的内容和流程"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://eventmesh.apache.org/community/apache-release"><link data-react-helmet="true" rel="alternate" href="https://eventmesh.apache.org/community/apache-release" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://eventmesh.apache.org/zh-hans/community/apache-release" hreflang="zh-hans"><link data-react-helmet="true" rel="alternate" href="https://eventmesh.apache.org/community/apache-release" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8822933e.css">
<link rel="preload" href="/assets/js/runtime~main.f21ab654.js" as="script">
<link rel="preload" href="/assets/js/main.4eb7ebc4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Apache EventMesh Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Apache EventMesh Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Apache EventMesh (Incubating)</b></a><a class="navbar__item navbar__link" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/events/release-notes/v1.2.0">Events</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active navbar__link--active" href="/community/apache-release">Community</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Apache EventMesh Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Apache EventMesh Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Apache EventMesh (Incubating)</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/download">Download</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/events/release-notes/v1.2.0">Events</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active navbar__link--active" href="/community/apache-release">Community</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/community/apache-release">Apache 发布指南</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Apache 发布指南</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="理解-apache-发布的内容和流程"></a>理解 Apache 发布的内容和流程<a class="hash-link" href="#理解-apache-发布的内容和流程" title="Direct link to heading">#</a></h2><p>Source Release 是 Apache 关注的重点，也是发布的必须内容；而 Binary Release 是可选项，</p><p>请参考以下链接，找到更多关于 ASF 的发布指南:</p><ul><li><a href="http://www.apache.org/dev/release-publishing" target="_blank" rel="noopener noreferrer">Apache Release Guide</a></li><li><a href="http://www.apache.org/dev/release.html" target="_blank" rel="noopener noreferrer">Apache Release Policy</a></li><li><a href="http://www.apache.org/dev/publishing-maven-artifacts.html" target="_blank" rel="noopener noreferrer">Maven Release Info</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="本地构建环境准备"></a>本地构建环境准备<a class="hash-link" href="#本地构建环境准备" title="Direct link to heading">#</a></h2><p>主要包括签名工具、Maven 仓库认证相关准备</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1安装gpg"></a>1.安装GPG<a class="hash-link" href="#1安装gpg" title="Direct link to heading">#</a></h3><p>在<a href="https://www.gnupg.org/download/index.html" target="_blank" rel="noopener noreferrer">GnuPG官网</a>下载安装包。GnuPG的1.x版本和2.x版本的命令有细微差别，下列说明以<strong>GnuPG-2.x</strong>版本为例</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --version #检查版本，应该为2.x</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2用gpg生成key"></a>2.用gpg生成key<a class="hash-link" href="#2用gpg生成key" title="Direct link to heading">#</a></h3><p>根据提示，生成 key</p><blockquote><p>注意：请使用Apache邮箱生成GPG的Key</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --full-gen-key</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GnuPG</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain">.12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2009</span><span class="token plain"> Free Software Foundation, Inc.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> software: you are </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> to change and redistribute it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> what kind of key you want:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> RSA and RSA </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> DSA and Elgamal</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> DSA </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sign only</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> RSA </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sign only</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Your selection? </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">RSA keys may be between </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> and </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"> bits long.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">What keysize </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> you want? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2048</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Requested keysize is </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"> bits</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please specify how long the key should be valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key does not expire</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n days</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n weeks</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n months</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> key expires </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> n years</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Key is valid for? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Key does not expire at all</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Is this correct? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> y</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">GnuPG needs to construct a user ID to identify your key.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Real name: </span><span class="token variable" style="color:#36acaa">${输入用户名}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Email address: </span><span class="token variable" style="color:#36acaa">${邮箱地址}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">Comment: CODE SIGNING KEY</span></span><span class="token-line" style="color:#393A34"><span class="token plain">You selected this </span><span class="token environment constant" style="color:#36acaa">USER</span><span class="token plain">-ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">${输入用户名}</span><span class="token string" style="color:#e3116c"> (CODE SIGNING KEY) &lt;</span><span class="token string variable" style="color:#36acaa">${邮箱地址}</span><span class="token string" style="color:#e3116c">&gt;&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Change </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ame, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">omment, </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">E</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">mail or </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">O</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">kay/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">uit? O</span></span><span class="token-line" style="color:#393A34"><span class="token plain">You need a Passphrase to protect your secret key. </span><span class="token comment" style="color:#999988;font-style:italic"># 填入密码，以后打包过程中会经常用到</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3查看-key"></a>3.查看 key<a class="hash-link" href="#3查看-key" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --list-keys</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub   rsa4096/579C25F5 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-04-26 </span><span class="token comment" style="color:#999988;font-style:italic"># 579C25F5就是key id</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">uid           </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ultimate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${输入用户名}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token variable" style="color:#36acaa">${邮箱地址}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">sub   rsa4096 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-04-26</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 通过key id发送public key到keyserver</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --keyserver pgpkeys.mit.edu --send-key 579C25F5</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 其中，pgpkeys.mit.edu为随意挑选的keyserver，keyserver列表为：https://sks-keyservers.net/status/，相互之间是自动同步的，选任意一个都可以。</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --keyserver hkp://pgpkeys.mit.edu --recv-keys 579C25F5 </span><span class="token comment" style="color:#999988;font-style:italic"># 验证是否同步到公网，网络不好可能需多试几次</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>注：如果有多个 public key，设置默认 key。</strong>修改<code>~/.gnupg/gpg.conf</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># If you have more than 1 secret key in your keyring, you may want to</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># uncomment the following option and set your preferred keyid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">default-key 28681CB1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>如果有多个 public key, 也可以删除无用的 key：</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --delete-secret-keys 29BBC3CB </span><span class="token comment" style="color:#999988;font-style:italic"># 先删除私钥，指明key id</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GnuPG</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.2</span><span class="token plain">.27</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> g10 Code GmbH</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> software: you are </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> to change and redistribute it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sec  rsa4096/EE8DAE7D29BBC3CB </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-04-27 mikexue </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">mikexue@apache.org</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Delete this key from the keyring? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> y</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is a secret key</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> - really delete? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> y</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --delete-keys 29BBC3CB </span><span class="token comment" style="color:#999988;font-style:italic"># 删除公钥，指明key id</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GnuPG</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.2</span><span class="token plain">.27</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> Copyright </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain"> g10 Code GmbH</span></span><span class="token-line" style="color:#393A34"><span class="token plain">This is </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> software: you are </span><span class="token function" style="color:#d73a49">free</span><span class="token plain"> to change and redistribute it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">There is NO WARRANTY, to the extent permitted by law.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub  rsa4096/EE8DAE7D29BBC3CB </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-04-27 mikexue </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">mikexue@apache.org</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Delete this key from the keyring? </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y/N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> y</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>由于公钥服务器没有检查机制，任何人都可以用你的名义上传公钥，所以没有办法保证服务器上的公钥的可靠性。 通常，你可以在网站上公布一个公钥指纹，让其他人核对下载到的公钥是否为真。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># fingerprint参数生成公钥指纹：</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$gpg</span><span class="token plain"> --fingerprint mikexue</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pub   rsa4096 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-04-26 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SCA</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      F84A 0041 D70B 37AF 9C7B  F0B3 39F4 29D7 579C 25F5</span></span><span class="token-line" style="color:#393A34"><span class="token plain">uid           </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ultimate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> mikexue </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">mikexue@apache.org</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">sub   rsa4096 </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">-04-26 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E</span><span class="token punctuation" style="color:#393A34">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>登录 <a href="https://id.apache.org/" target="_blank" rel="noopener noreferrer">https://id.apache.org</a>, 将上面的 fingerprint （即 F84A 0041 D70B 37AF 9C7B  F0B3 39F4 29D7 579C 25F5） 粘贴到自己的用户信息中 OpenPGP Public Key Primary Fingerprint</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="发布apache-maven仓库"></a>发布Apache Maven仓库<a class="hash-link" href="#发布apache-maven仓库" title="Direct link to heading">#</a></h2><blockquote><p>注：EventMesh使用Gradle构建，需修改gradle相关配置</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1导出私钥文件"></a>1.导出私钥文件<a class="hash-link" href="#1导出私钥文件" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --export-secret-keys -o secring.gpg </span><span class="token comment" style="color:#999988;font-style:italic">#私钥文件妥善保管，后面配置需要</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2准备分支"></a>2.准备分支<a class="hash-link" href="#2准备分支" title="Direct link to heading">#</a></h3><p>从主干分支拉取新分支作为发布分支，如现在要发布$<code>{release_version}</code>版本，则从develop分支拉出新分支<code>${release_version}-release</code>，此后<code>${release_version}</code> Release Candidates涉及的修改及打标签等都在<code>${release_version}-release</code>分支进行，最终发布完成后合入主干分支。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3配置根项目下gradleproperties文件"></a>3.配置根项目下gradle.properties文件<a class="hash-link" href="#3配置根项目下gradleproperties文件" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">group</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">org.apache.eventmesh</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">version</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.2</span><span class="token plain">.0-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#40位公钥的最后8位</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.keyId</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">579C25F5</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#生成密钥时填的passphrase</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#导出的私钥文件secring.gpg路径</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.secretKeyRingFile</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/secring.gpg</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#apache 账号</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">apacheUserName</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#apache 密码</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">apachePassWord</span><span class="token operator" style="color:#393A34">=</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4检查子模块下gradleproperties文件"></a>4.检查子模块下gradle.properties文件<a class="hash-link" href="#4检查子模块下gradleproperties文件" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">group</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">org.apache.eventmesh</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">version</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">${release_version}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5检查并配置根项目下buildgradle文件"></a>5.检查并配置根项目下build.gradle文件<a class="hash-link" href="#5检查并配置根项目下buildgradle文件" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">publishing </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publications </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        mavenJava</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MavenPublication</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from components.java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            artifact packageSources</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            artifact packageJavadoc</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            versionMapping </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;java-api&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    fromResolutionOf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;runtimeClasspath&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;java-runtime&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    fromResolutionResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            pom </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EventMesh&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Apache EventMesh&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://github.com/apache/incubator-eventmesh&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                licenses </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    license </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;The Apache License, Version 2.0&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://www.apache.org/licenses/LICENSE-2.0.txt&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                developers </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    developer </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Apache EventMesh(incubating)&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Apache EventMesh(incubating) of ASF&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://eventmesh.apache.org/&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                scm </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;scm:git:git@github.com:apache/incubator-eventmesh.git&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    developerConnection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;scm:git:git@github.com:apache/incubator-eventmesh.git&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://github.com/apache/incubator-eventmesh&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    repositories </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        maven </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            def releasesRepoUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://repository.apache.org/service/local/staging/deploy/maven2/&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            def snapshotsRepoUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://repository.apache.org/content/repositories/snapshots/&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> version.endsWith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;SNAPSHOT&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ? snapshotsRepoUrl </span><span class="token builtin class-name">:</span><span class="token plain"> releasesRepoUrl</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            credentials </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                username apacheUserName</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                password apachePassWord</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    sign publishing.publications.mavenJava</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6上传发布包"></a>6.上传发布包<a class="hash-link" href="#6上传发布包" title="Direct link to heading">#</a></h3><p>执行如下命令，需要对jar、源码包、doc和pom等文件签名加密</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gradle signMavenJavaPublication publish</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>上述命令执行成功后，待发布版本会自动上传到Apache的临时筹备仓库(staging repository)。所有被deploy到远程<a href="http://repository.apache.org/" target="_blank" rel="noopener noreferrer">maven仓库</a>的Artifacts都会处于staging状态，访问<a href="https://repository.apache.org/#stagingRepositories" target="_blank" rel="noopener noreferrer">https://repository.apache.org/#stagingRepositories</a>, 使用Apache的LDAP账户登录后，就会看到上传的版本，<code>Repository</code>列的内容即为${STAGING.REPOSITORY}。 点击<code>Close</code>来告诉Nexus这个构建已经完成，只有这样该版本才是可用的。 如果电子签名等出现问题，<code>Close</code>会失败，可以通过<code>Activity</code>查看失败信息。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="发布apache-svn仓库"></a>发布Apache SVN仓库<a class="hash-link" href="#发布apache-svn仓库" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1准备svn本机环境（apache使用svn托管项目的发布内容）"></a>1.准备svn本机环境（Apache使用svn托管项目的发布内容）<a class="hash-link" href="#1准备svn本机环境（apache使用svn托管项目的发布内容）" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2checkout到本地目录"></a>2.checkout到本地目录<a class="hash-link" href="#2checkout到本地目录" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ svn checkout https://dist.apache.org/repos/dist/dev/incubator/eventmesh/</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 假定本地目录为 ~/apache/eventmesh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3添加gpg公钥"></a>3.添加gpg公钥<a class="hash-link" href="#3添加gpg公钥" title="Direct link to heading">#</a></h3><p>添加public key到<a href="https://dist.apache.org/repos/dist/dev/incubator/eventmesh/KEYS" target="_blank" rel="noopener noreferrer">KEYS</a>文件并提交到SVN仓库（第一次做发布的人需要做这个操作，具体操作参考KEYS文件里的说明）。KEYS主要是让参与投票的人在本地导入，用来校验sign的正确性</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ (gpg --list-sigs &lt;your name&gt; &amp;&amp; gpg --armor --export &lt;your name&gt;) &gt;&gt; KEYS</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4添加待发布内容到svn目录"></a>4.添加待发布内容到SVN目录<a class="hash-link" href="#4添加待发布内容到svn目录" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> ~/apache/eventmesh </span><span class="token comment" style="color:#999988;font-style:italic"># eventmesh svn根目录</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="41-创建tag"></a>4.1 创建tag<a class="hash-link" href="#41-创建tag" title="Direct link to heading">#</a></h4><p>在<code>${release_version}-release</code>分支上创建tag</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> tag -a v</span><span class="token punctuation" style="color:#393A34">{</span><span class="token variable" style="color:#36acaa">$release_version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token variable" style="color:#36acaa">$rc_version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> -m </span><span class="token string" style="color:#e3116c">&quot;Tagging the </span><span class="token string variable" style="color:#36acaa">${release_version}</span><span class="token string" style="color:#e3116c"> first Releae Candidate (Candidates start at zero)&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin --tags</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="42-打包源码"></a>4.2 打包源码<a class="hash-link" href="#42-打包源码" title="Direct link to heading">#</a></h4><p>检查项目源码命名，将源码命名为<code>apache-eventmesh-${release_version}-incubating-src</code>，将源码打包为tar.gz格式</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -czvf apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-source.tar.gz apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-incubating-src</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="43-打包二进制"></a>4.3 打包二进制<a class="hash-link" href="#43-打包二进制" title="Direct link to heading">#</a></h4><blockquote><p>编译上一步打包的源码</p></blockquote><p>检查编译后的文件命名，将二进制文件命名为<code>apache-eventmesh-${release_version}-incubating</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gradle clean dist </span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -x </span><span class="token builtin class-name">test</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -czvf apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-bin.tar.gz apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-incubating</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>压缩source包、bin包，并将相关的压缩包拷贝到svn本地仓库下<code>/apache/eventmesh/${release_version}-${rc_version}</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5生成签名sha512文件"></a>5.生成签名/sha512文件<a class="hash-link" href="#5生成签名sha512文件" title="Direct link to heading">#</a></h3><blockquote><p>针对源码包与二进制包生成签名/sha512文件</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">i</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> gpg --print-md SHA512 </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain">.sha512 </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#计算sha512</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">i</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> *.tar.gz</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> gpg --armor --output </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain">.asc --detach-sig </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#计算签名</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6提交到apache-svn"></a>6.提交到Apache svn<a class="hash-link" href="#6提交到apache-svn" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> ~/apache/eventmesh </span><span class="token comment" style="color:#999988;font-style:italic"># eventmesh svn根目录</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ svn status</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ svn commit -m </span><span class="token string" style="color:#e3116c">&#x27;prepare for </span><span class="token string variable" style="color:#36acaa">${release_version}</span><span class="token string" style="color:#e3116c">-</span><span class="token string variable" style="color:#36acaa">${rc_version}</span><span class="token string" style="color:#e3116c">&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="验证release-candidates"></a>验证Release Candidates<a class="hash-link" href="#验证release-candidates" title="Direct link to heading">#</a></h2><p>详细检查列表请参考官方的<a href="https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist" target="_blank" rel="noopener noreferrer">check list</a></p><p>从以下地址下载要发布的Release Candidates到本地环境：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">https://dist.apache.org/repos/dist/dev/incubator/eventmesh/</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>然后开始验证环节，验证包含但不限于以下内容和形式</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1检查签名和hash等信息"></a>1.检查签名和hash等信息<a class="hash-link" href="#1检查签名和hash等信息" title="Direct link to heading">#</a></h3><blockquote><p>由于操作系统不同，检查的命令或有差异，具体可参考<a href="https://www.apache.org/info/verification.html" target="_blank" rel="noopener noreferrer">官方检查步骤</a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="11检查sha512哈希"></a>1.1检查sha512哈希<a class="hash-link" href="#11检查sha512哈希" title="Direct link to heading">#</a></h4><blockquote><p>Mac OS/Linux</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ shasum -a apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-source.tar.gz</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#并将输出内容与 apache-eventmesh-${release_version}-${rc_version}-incubating-source.tar.gz.sha512文件内容作对比</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ shasum -a apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-bin.tar.gz</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#并将输出内容与 apache-eventmesh-${release_version}-${rc_version}-incubating-bin.tar.gz.sha512文件内容作对比</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>Windows</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ certUtil -hashfile apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-source.tar.gz SHA512</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#并将输出内容与 apache-eventmesh-${release_version}-${rc_version}-incubating-source.tar.gz.sha512文件内容作对比</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ certUtil -hashfile apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-bin.tar.gz SHA512</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#并将输出内容与 apache-eventmesh-${release_version}-${rc_version}-incubating-bin.tar.gz.sha512文件内容作对比</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="12检查gpg签名"></a>1.2检查gpg签名<a class="hash-link" href="#12检查gpg签名" title="Direct link to heading">#</a></h4><p>首先导入发布人公钥。从svn仓库导入KEYS到本地环境。（发布版本的人不需要再导入，帮助做验证的人需要导入，用户名填发版人的即可）</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://dist.apache.org/repos/dist/dev/incubator/eventmesh/KEYS </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --import KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --edit-key </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">${发布人的gpg用户名}</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> trust</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Please decide how far you trust this user to correctly verify other </span><span class="token function" style="color:#d73a49">users</span><span class="token string" style="color:#e3116c">&#x27; keys</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">(by looking at passports, checking fingerprints from different sources, etc.)</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c">
</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  1 = I don&#x27;</span><span class="token plain">t know or won&#x27;t say</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> NOT trust</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I trust marginally</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I trust fully</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> I trust ultimately</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> back to the main menu</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Your decision? </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> save</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>然后使用如下命令检查签名</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --verify apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-source.tar.gz.asc apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-source-tar.gz</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ gpg --verify apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-bin.tar.gz.asc apache-eventmesh-</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain">-incubating-bin.tar.gz</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2检查源码包的文件内容"></a>2.检查源码包的文件内容<a class="hash-link" href="#2检查源码包的文件内容" title="Direct link to heading">#</a></h3><p>解压缩<code>apache-eventmesh-${release_version}-${rc_version}-incubating-source-tar.gz</code>，进行如下检查:</p><ul><li>检查源码包是否包含由于包含不必要文件，致使tar包过于庞大</li><li>文件夹包含单词<code>incubating</code></li><li>存在<code>LICENSE</code>和<code>NOTICE</code>文件</li><li>存在<code>DISCLAIMER</code>文件</li><li><code>NOTICE</code>文件中的年份正确</li><li>只存在文本文件，不存在二进制文件</li><li>所有文件的开头都有ASF许可证</li><li>能够正确编译，单元测试可以通过 (./gradle build) (目前支持JAVA 8/gradle 7.0/idea 2021.1.1及以上)</li><li>检查是否有多余文件或文件夹，例如空文件夹等</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3检查二进制包的文件内容"></a>3.检查二进制包的文件内容<a class="hash-link" href="#3检查二进制包的文件内容" title="Direct link to heading">#</a></h3><ul><li>文件夹包含单词<code>incubating</code></li><li>存在<code>LICENSE</code>和<code>NOTICE</code>文件</li><li>存在<code>DISCLAIMER</code>文件</li><li><code>NOTICE</code>文件中的年份正确</li><li>所有文本文件开头都有ASF许可证</li><li>检查第三方依赖许可证：<ul><li>第三方依赖的许可证兼容</li><li>所有第三方依赖的许可证都在<code>LICENSE</code>文件中声名</li><li>依赖许可证的完整版全部在<code>license</code>目录</li><li>如果依赖的是Apache许可证并且存在<code>NOTICE</code>文件，那么这些<code>NOTICE</code>文件也需要加入到版本的<code>NOTICE</code>文件中</li></ul></li></ul><p>你可以参考此文章：<a href="https://apache.org/legal/resolved.html" target="_blank" rel="noopener noreferrer">ASF第三方许可证策</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="发起投票"></a>发起投票<a class="hash-link" href="#发起投票" title="Direct link to heading">#</a></h2><blockquote><p>EventMesh 仍在孵化阶段，需要进行两次投票</p></blockquote><ul><li>EventMesh社区投票，发送邮件至：<code>dev@eventmesh.apache.org</code></li><li>incubator社区投票，发送邮件至：<code>general@incubator.apache.org</code> EventMesh毕业后，只需要在EventMesh社区投票</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1eventmesh社区投票阶段"></a>1.EventMesh社区投票阶段<a class="hash-link" href="#1eventmesh社区投票阶段" title="Direct link to heading">#</a></h3><ol><li>EventMesh社区投票，发起投票邮件到<code>dev@eventmesh.apache.org</code>。PMC需要先按照文档检查版本的正确性，然后再进行投票。 经过至少72小时并统计到3个<code>+1 PMC member</code>票后，即可进入下一阶段的投票。</li><li>宣布投票结果,发起投票结果邮件到<code>dev@eventmesh.apache.org</code>。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2eventmesh社区投票模板"></a>2.EventMesh社区投票模板<a class="hash-link" href="#2eventmesh社区投票模板" title="Direct link to heading">#</a></h3><p>标题：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[VOTE] Release Apache EventMesh (incubating) ${release_version} ${rc_version}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Hello EventMesh Community,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    This is a call for vote to release Apache EventMesh (incubating) version ${release_version}-${rc_version}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Release notes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    https://github.com/apache/incubator-eventmesh/releases/tag/v${release_version}-${rc_version}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The release candidates:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        https://dist.apache.org/repos/dist/dev/incubator/eventmesh/${release_version}-${rc_version}/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Maven artifacts are available in a staging repository at:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    https://repository.apache.org/content/repositories/orgapacheeventmesh-{staging-id}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Git tag for the release:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    https://github.com/apache/incubator-eventmesh/tree/v${release_version}-${rc_version}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Keys to verify the Release Candidate:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    https://dist.apache.org/repos/dist/dev/incubator/eventmesh/KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Hash for the release tag:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    #hashCode of this release tag</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    GPG user ID:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ${YOUR.GPG.USER.ID}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The vote will be open for at least 72 hours or until necessary number of votes are reached.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Please vote accordingly:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] +1 approve</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] +0 no opinion</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] -1 disapprove with the reason</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Checklist for reference:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] Download links are valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] Checksums and PGP signatures are valid.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] Source code distributions have correct names matching the current release.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] LICENSE and NOTICE files are correct for each EventMesh repo.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] All files have license headers if necessary.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] No compiled archives bundled in source archive.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    More detail checklist  please refer:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thanks,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Your EventMesh Release Manager</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3宣布投票结果模板"></a>3.宣布投票结果模板<a class="hash-link" href="#3宣布投票结果模板" title="Direct link to heading">#</a></h3><p>标题：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[RESULT][VOTE] Release Apache EventMesh (incubating) ${release_version} ${rc_version}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Hello Apache EventMesh PPMC and Community,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The vote closes now as 72hr have passed. The vote PASSES with</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    xx (+1 non-binding) votes from the PPMC,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    xx (+1 binding) votes from the IPMC,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    xx (+1 non-binding) votes from the rest of the developer community,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    and no further 0 or -1 votes.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The vote thread: {vote_mail_address}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    I will now bring the vote to general@incubator.apache.org to get approval by the IPMC.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    If this vote passes also, the release is accepted and will be published.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thank you for your support.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Your EventMesh Release Manager</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4incubator社区投票阶段"></a>4.Incubator社区投票阶段<a class="hash-link" href="#4incubator社区投票阶段" title="Direct link to heading">#</a></h3><ol><li>Incubator社区投票，发起投票邮件到<code>general@incubator.apache.org</code>，需3个 <code>+1 IPMC Member</code>投票，方可进入下一阶段。</li><li>宣布投票结果,发起投票结果邮件到<code>general@incubator.apache.org</code> 并抄送至<code>dev@eventmesh.apache.org</code>。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5incubator社区投票模板"></a>5.Incubator社区投票模板<a class="hash-link" href="#5incubator社区投票模板" title="Direct link to heading">#</a></h3><p>标题：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[VOTE] Release Apache EventMesh (incubating) ${release_version} ${rc_version}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>内容：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Hello Incubator Community,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    This is a call for a vote to release Apache EventMesh(Incubating) version               ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The Apache EventMesh community has voted on and approved a proposal to release</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Apache EventMesh(Incubating) version ${release_version} ${rc_version}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    We now kindly request the Incubator PMC members review and vote on this</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    incubator release.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    EventMesh community vote thread:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    • [投票链接]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Vote result thread:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    • [投票结果链接]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The release candidate:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    •https://dist.apache.org/repos/dist/dev/incubator/eventmesh/${release_version}-${rc_version}/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Git tag for the release:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    • https://github.com/apache/incubator-eventmesh/tree/${release_version}-${rc_version}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Release notes:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    • https://github.com/apache/incubator-eventmesh/releases/tag/${release_version}-${rc_version}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The artifacts signed with PGP key [填写你个人的KEY], corresponding to [填写你个人的邮箱], that can be found in keys file:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    • https://dist.apache.org/repos/dist/dev/incubator/eventmesh/KEYS</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The vote will be open for at least 72 hours or until necessary number of votes are reached.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Please vote accordingly:</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] +1 approve</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] +0 no opinion</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    [ ] -1 disapprove with the reason</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thanks,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">On behalf of Apache EventMesh(Incubating) community</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6宣布投票结果模板"></a>6.宣布投票结果模板<a class="hash-link" href="#6宣布投票结果模板" title="Direct link to heading">#</a></h3><p>标题：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[RESULT][VOTE] Release Apache EventMesh (incubating) ${release_version} ${rc_version}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>内容：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Hi all,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Thanks for reviewing and voting for Apache EventMesh(Incubating) version                ${release_version} ${rc_version} release, I am happy to announce the release voting     has passed with [投票结果数] binding votes, no +0 or -1 votes. Binding votes are from     IPMC</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       - xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       - xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       - xxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    The voting thread is:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    • [投票结果链接]</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Many thanks for all our mentors helping us with the release procedure, and all IPMC     helped us to review and vote for Apache EventMesh(Incubating) release. I will be        working on publishing the artifacts soon.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Thanks,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">On behalf of Apache EventMesh(Incubating) community</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="正式发布"></a>正式发布<a class="hash-link" href="#正式发布" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1合并分支"></a>1.合并分支<a class="hash-link" href="#1合并分支" title="Direct link to heading">#</a></h3><p>合并<code>${release_version}-release</code>分支的改动到<code>master</code>分支，合并完成后删除<code>release</code>分支</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout master</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge origin/</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> pull</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin master</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push --delete origin </span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-release</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -d </span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-release</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2迁移源码与二进制包"></a>2.迁移源码与二进制包<a class="hash-link" href="#2迁移源码与二进制包" title="Direct link to heading">#</a></h3><p>将源码和二进制包从svn的<code>dev</code>目录移动到<code>release</code>目录</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ svn </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> https://dist.apache.org/repos/dist/dev/incubator/eventmesh/</span><span class="token variable" style="color:#36acaa">${release_version}</span><span class="token plain">-</span><span class="token variable" style="color:#36acaa">${rc_version}</span><span class="token plain"> https://dist.apache.org/repos/dist/release/incubator/eventmesh/ -m </span><span class="token string" style="color:#e3116c">&quot;transfer packages for </span><span class="token string variable" style="color:#36acaa">${release_version}</span><span class="token string" style="color:#e3116c">-</span><span class="token string variable" style="color:#36acaa">${rc_version}</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#移动源码包与二进制包</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ svn delete https://dist.apache.org/repos/dist/release/incubator/eventmesh/KEYS -m </span><span class="token string" style="color:#e3116c">&quot;delete KEYS&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#清除原有release目录下的KEYS</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ svn </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> https://dist.apache.org/repos/dist/dev/incubator/eventmesh/KEYS https://dist.apache.org/repos/dist/release/incubator/eventmesh/ -m </span><span class="token string" style="color:#e3116c">&quot;transfer KEYS for </span><span class="token string variable" style="color:#36acaa">${release_version}</span><span class="token string" style="color:#e3116c">-</span><span class="token string variable" style="color:#36acaa">${rc_version}</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#拷贝dev目录KEYS到release目录</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3确认dev和release下的包是否正确"></a>3.确认dev和release下的包是否正确<a class="hash-link" href="#3确认dev和release下的包是否正确" title="Direct link to heading">#</a></h3><ul><li>确认<a href="https://dist.apache.org/repos/dist/dev/incubator/eventmesh/" target="_blank" rel="noopener noreferrer">dev</a>下的<code>${release_version}-${rc_version}</code>已被删除</li><li>删除<a href="https://dist.apache.org/repos/dist/release/incubator/eventmesh/" target="_blank" rel="noopener noreferrer">release</a>目录下上一个版本的发布包，这些包会被自动保存在<a href="https://archive.apache.org/dist/incubator/eventmesh/" target="_blank" rel="noopener noreferrer">这里</a></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ svn delete https://dist.apache.org/repos/dist/release/incubator/eventmesh/</span><span class="token variable" style="color:#36acaa">${last_release_version}</span><span class="token plain"> -m </span><span class="token string" style="color:#e3116c">&quot;Delete </span><span class="token string variable" style="color:#36acaa">${last_release_version}</span><span class="token string" style="color:#e3116c">&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4在apache-staging仓库发布版本"></a>4.在Apache Staging仓库发布版本<a class="hash-link" href="#4在apache-staging仓库发布版本" title="Direct link to heading">#</a></h3><ul><li>登录<a href="http://repository.apache.org" target="_blank" rel="noopener noreferrer">http://repository.apache.org</a> , 使用Apache账号登录</li><li>点击左侧的Staging repositories，</li><li>搜索EventMesh关键字，选择你最近上传的仓库，投票邮件中指定的仓库</li><li>点击上方的<code>Release</code>按钮，这个过程会进行一系列检查</li></ul><blockquote><p>等仓库同步到其他数据源，一般需要24小时</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5github版本发布"></a>5.GitHub版本发布<a class="hash-link" href="#5github版本发布" title="Direct link to heading">#</a></h3><p>在 <a href="https://github.com/apache/incubator/eventmesh/releases" target="_blank" rel="noopener noreferrer">GitHub Releases</a> 页面的 <code>${release_version}</code> 版本上点击 <code>Edit</code></p><p>编辑版本号及版本说明，并点击 <code>Publish release</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6更新下载页面"></a>6.更新下载页面<a class="hash-link" href="#6更新下载页面" title="Direct link to heading">#</a></h3><p>等待并确认新的发布版本同步至 Apache 镜像后，更新如下页面：</p><p><a href="https://eventmesh.apache.org/projects/eventmesh/download/" target="_blank" rel="noopener noreferrer">https://eventmesh.apache.org/projects/eventmesh/download/</a></p><p><a href="https://eventmesh.apache.org/zh/projects/eventmesh/download/" target="_blank" rel="noopener noreferrer">https://eventmesh.apache.org/zh/projects/eventmesh/download/</a></p><p>GPG签名文件和哈希校验文件的下载连接应该使用这个前缀：<code>https://downloads.apache.org/incubator/eventmesh/</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="7邮件通知版本发布完成"></a>7.邮件通知版本发布完成<a class="hash-link" href="#7邮件通知版本发布完成" title="Direct link to heading">#</a></h3><blockquote><p>请确保Apache Staging仓库已发布成功，一般是在该步骤的24小时后发布邮件</p></blockquote><p>发邮件到 <code>dev@eventmesh.apache.org</code> 、 <code>announce@apache.org</code>和<code>general@incubator.apache.org</code></p><p>标题：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">[ANNOUNCE] Apache EventMesh (incubating) ${release_version} available</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>正文：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Hi all,</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache EventMesh (incubating) Team is glad to announce the new release of Apache EventMesh (incubating) ${release_version}.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Apache EventMesh (incubating) is a dynamic cloud-native eventing infrastruture used to decouple the application and backend middleware layer, which supports a wide range of use cases that encompass complex multi-cloud, widely distributed topologies using diverse technology stacks.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Download Links: https://eventmesh.apache.org/projects/eventmesh/download/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Release Notes: https://github.com/apache/incubator-eventmesh/releases/tag/v1.2.0-rc1</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Website: https://eventmesh.apache.org/</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">EventMesh Resources:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Issue: https://github.com/apache/incubator-eventmesh/issues</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Mailing list: dev@eventmesh.apache.org</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">- Apache EventMesh (incubating) Team</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#理解-apache-发布的内容和流程" class="table-of-contents__link">理解 Apache 发布的内容和流程</a></li><li><a href="#本地构建环境准备" class="table-of-contents__link">本地构建环境准备</a><ul><li><a href="#1安装gpg" class="table-of-contents__link">1.安装GPG</a></li><li><a href="#2用gpg生成key" class="table-of-contents__link">2.用gpg生成key</a></li><li><a href="#3查看-key" class="table-of-contents__link">3.查看 key</a></li></ul></li><li><a href="#发布apache-maven仓库" class="table-of-contents__link">发布Apache Maven仓库</a><ul><li><a href="#1导出私钥文件" class="table-of-contents__link">1.导出私钥文件</a></li><li><a href="#2准备分支" class="table-of-contents__link">2.准备分支</a></li><li><a href="#3配置根项目下gradleproperties文件" class="table-of-contents__link">3.配置根项目下gradle.properties文件</a></li><li><a href="#4检查子模块下gradleproperties文件" class="table-of-contents__link">4.检查子模块下gradle.properties文件</a></li><li><a href="#5检查并配置根项目下buildgradle文件" class="table-of-contents__link">5.检查并配置根项目下build.gradle文件</a></li><li><a href="#6上传发布包" class="table-of-contents__link">6.上传发布包</a></li></ul></li><li><a href="#发布apache-svn仓库" class="table-of-contents__link">发布Apache SVN仓库</a><ul><li><a href="#1准备svn本机环境（apache使用svn托管项目的发布内容）" class="table-of-contents__link">1.准备svn本机环境（Apache使用svn托管项目的发布内容）</a></li><li><a href="#2checkout到本地目录" class="table-of-contents__link">2.checkout到本地目录</a></li><li><a href="#3添加gpg公钥" class="table-of-contents__link">3.添加gpg公钥</a></li><li><a href="#4添加待发布内容到svn目录" class="table-of-contents__link">4.添加待发布内容到SVN目录</a></li><li><a href="#5生成签名sha512文件" class="table-of-contents__link">5.生成签名/sha512文件</a></li><li><a href="#6提交到apache-svn" class="table-of-contents__link">6.提交到Apache svn</a></li></ul></li><li><a href="#验证release-candidates" class="table-of-contents__link">验证Release Candidates</a><ul><li><a href="#1检查签名和hash等信息" class="table-of-contents__link">1.检查签名和hash等信息</a></li><li><a href="#2检查源码包的文件内容" class="table-of-contents__link">2.检查源码包的文件内容</a></li><li><a href="#3检查二进制包的文件内容" class="table-of-contents__link">3.检查二进制包的文件内容</a></li></ul></li><li><a href="#发起投票" class="table-of-contents__link">发起投票</a><ul><li><a href="#1eventmesh社区投票阶段" class="table-of-contents__link">1.EventMesh社区投票阶段</a></li><li><a href="#2eventmesh社区投票模板" class="table-of-contents__link">2.EventMesh社区投票模板</a></li><li><a href="#3宣布投票结果模板" class="table-of-contents__link">3.宣布投票结果模板</a></li><li><a href="#4incubator社区投票阶段" class="table-of-contents__link">4.Incubator社区投票阶段</a></li><li><a href="#5incubator社区投票模板" class="table-of-contents__link">5.Incubator社区投票模板</a></li><li><a href="#6宣布投票结果模板" class="table-of-contents__link">6.宣布投票结果模板</a></li></ul></li><li><a href="#正式发布" class="table-of-contents__link">正式发布</a><ul><li><a href="#1合并分支" class="table-of-contents__link">1.合并分支</a></li><li><a href="#2迁移源码与二进制包" class="table-of-contents__link">2.迁移源码与二进制包</a></li><li><a href="#3确认dev和release下的包是否正确" class="table-of-contents__link">3.确认dev和release下的包是否正确</a></li><li><a href="#4在apache-staging仓库发布版本" class="table-of-contents__link">4.在Apache Staging仓库发布版本</a></li><li><a href="#5github版本发布" class="table-of-contents__link">5.GitHub版本发布</a></li><li><a href="#6更新下载页面" class="table-of-contents__link">6.更新下载页面</a></li><li><a href="#7邮件通知版本发布完成" class="table-of-contents__link">7.邮件通知版本发布完成</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">EventMesh</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/events">Events</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-eventmesh/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/incubator-eventmesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-eventmesh/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-eventmesh/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Apache Software Foundation</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>License<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Thanks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        Copyright © 2021 The Apache Software Foundation.
        Apache EventMesh, Apache Incubator, EventMesh, Apache, the Apache feather logo,
        the Apache EventMesh logo and the Apache Incubator project logo
        are trademarks of The Apache Software Foundation.
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.f21ab654.js"></script>
<script src="/assets/js/main.4eb7ebc4.js"></script>
</body>
</html>